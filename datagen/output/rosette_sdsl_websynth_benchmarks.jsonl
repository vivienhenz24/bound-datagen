{"messages":[{"role":"system","content":"You are the Rosette Maintainer AI, an expert in Rosette DSLs and solver-aided verification/synthesis."},{"role":"user","content":"I have an Al-Anon Arkansas HTML page and want to synthesize XPath-like zpaths to extract meeting name, address, and city for two example records. Please show a Rosette WebSynth spec that constrains the zpaths with concrete string examples and then solves for generalized paths."},{"role":"assistant","content":"<think>We need a WebSynth benchmark that introduces symbolic zpaths over tags with length bounded by the DOM depth, constrains them using path? against example strings, and uses generate-mask to align fields and records. The spec should set current-bitwidth to #f and solve a demonstration, then evaluate the symbolic zpaths, apply the record mask, and convert to zpaths via synthsis_solution->zpath. The final extraction uses DOM-XPath, DOM-Flatten, and zip to return rows for three fields. This is a synthesis task, so solve is appropriate and the model should satisfy all path? constraints while producing generalized zpaths.</think>\n\n#lang rosette\n\n(require (only-in racket/runtime-path define-runtime-path))\n(require \"../dom.rkt\")\n(require \"../websynth.rkt\")\n(require \"../websynthlib.rkt\")\n\n(define-runtime-path html (build-path \"..\" \"html/alanon_arkansas.html\"))\n(define dom (read-DOMNode html))\n(define-tags (tags dom))\n(define max_zpath_depth (depth dom))\n\n; Record 0 fields\n(define-symbolic r0f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r0f1zpath tag? #:length max_zpath_depth)\n(define-symbolic r0f2zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r0fieldmask boolean? #:length max_zpath_depth)\n; Record 1 fields\n(define-symbolic r1f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r1f1zpath tag? #:length max_zpath_depth)\n(define-symbolic r1f2zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r1fieldmask boolean? #:length max_zpath_depth)\n\n; Cross-record Mask\n(define-symbolic recordmask boolean? #:length max_zpath_depth)\n(current-bitwidth #f)\n\n(define (demonstration)\n\n\t; Record 0 zpath asserts\n\t(assert (path? r0f0zpath dom \"Alexander AFG\"))\n\t(assert (path? r0f1zpath dom \"15224 Alexander Road\"))\n\t(assert (path? r0f2zpath dom \"Alexander\"))\n\n\t; Record 1 zpath asserts\n\t(assert (path? r1f0zpath dom \"Circle Of Hope AFG\"))\n\t(assert (path? r1f1zpath dom \"1606 N Franklin St\"))\n\t(assert (path? r1f2zpath dom \"Altus\"))\n\n\t; Record 0 Field Mask Generation\n\t(generate-mask r0f0zpath r0f1zpath r0fieldmask max_zpath_depth)\n\t(generate-mask r0f1zpath r0f2zpath r0fieldmask max_zpath_depth)\n\n\t; Record 1 Field Mask Generation\n\t(generate-mask r1f0zpath r1f1zpath r1fieldmask max_zpath_depth)\n\t(generate-mask r1f1zpath r1f2zpath r1fieldmask max_zpath_depth)\n\n\n\t; Record Mask\n\t(generate-mask r0f0zpath r1f0zpath recordmask max_zpath_depth))\n\n; Solve\n(define (scrape)\n\t(define sol (solve (demonstration)))\n\n\t; Record 0 zpaths\n\t; Record 1 zpaths\n\n\t; Construct final zpaths\n\t(define r0f0zpath_list (map label (evaluate r0f0zpath sol)))\n\t(define generalized_r0f0zpath_list \n\t\t(apply-mask r0f0zpath_list (evaluate recordmask sol)))\n\t(define field0_zpath (synthsis_solution->zpath generalized_r0f0zpath_list))\n\n\t(define r0f1zpath_list (map label (evaluate r0f1zpath sol)))\n\t(define generalized_r0f1zpath_list \n\t\t(apply-mask r0f1zpath_list (evaluate recordmask sol)))\n\t(define field1_zpath (synthsis_solution->zpath generalized_r0f1zpath_list))\n\n\t(define r0f2zpath_list (map label (evaluate r0f2zpath sol)))\n\t(define generalized_r0f2zpath_list \n\t\t(apply-mask r0f2zpath_list (evaluate recordmask sol)))\n\t(define field2_zpath (synthsis_solution->zpath generalized_r0f2zpath_list))\n\n\t(zip \n\t\t(DOM-Flatten (DOM-XPath dom field0_zpath))\n\t\t(DOM-Flatten (DOM-XPath dom field1_zpath))\n\t\t(DOM-Flatten (DOM-XPath dom field2_zpath))\n\t))\n\n(scrape)"}]}
{"messages":[{"role":"system","content":"You are the Rosette Maintainer AI, an expert in Rosette DSLs and solver-aided verification/synthesis."},{"role":"user","content":"Please build a WebSynth benchmark that learns three fields (group name, street, city) from four Al-Anon Arkansas examples and synthesizes generalized zpaths across records."},{"role":"assistant","content":"<think>This benchmark should declare symbolic tag zpaths for four records, assert path? constraints for each field, and generate per-record field masks to align adjacent fields. Then it should generate a cross-record mask between record 0 and record 1 to generalize across records. The solve result is used to evaluate symbolic zpaths, apply the record mask, and convert to zpaths with synthsis_solution->zpath before extracting DOM nodes and zipping three fields.</think>\n\n#lang rosette\n\n(require (only-in racket/runtime-path define-runtime-path))\n(require \"../dom.rkt\")\n(require \"../websynth.rkt\")\n(require \"../websynthlib.rkt\")\n\n(define-runtime-path html (build-path \"..\" \"html/alanon_arkansas.html\"))\n(define dom (read-DOMNode html))\n(define-tags (tags dom))\n(define max_zpath_depth (depth dom))\n\n; Record 0 fields\n(define-symbolic r0f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r0f1zpath tag? #:length max_zpath_depth)\n(define-symbolic r0f2zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r0fieldmask boolean? #:length max_zpath_depth)\n; Record 1 fields\n(define-symbolic r1f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r1f1zpath tag? #:length max_zpath_depth)\n(define-symbolic r1f2zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r1fieldmask boolean? #:length max_zpath_depth)\n; Record 2 fields\n(define-symbolic r2f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r2f1zpath tag? #:length max_zpath_depth)\n(define-symbolic r2f2zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r2fieldmask boolean? #:length max_zpath_depth)\n; Record 3 fields\n(define-symbolic r3f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r3f1zpath tag? #:length max_zpath_depth)\n(define-symbolic r3f2zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r3fieldmask boolean? #:length max_zpath_depth)\n\n; Cross-record Mask\n(define-symbolic recordmask boolean? #:length max_zpath_depth)\n(current-bitwidth #f)\n\n(define (demonstration)\n\n\t; Record 0 zpath asserts\n\t(assert (path? r0f0zpath dom \"Alexander AFG\"))\n\t(assert (path? r0f1zpath dom \"15224 Alexander Road\"))\n\t(assert (path? r0f2zpath dom \"Alexander\"))\n\n\t; Record 1 zpath asserts\n\t(assert (path? r1f0zpath dom \"Circle Of Hope AFG\"))\n\t(assert (path? r1f1zpath dom \"1606 N Franklin St\"))\n\t(assert (path? r1f2zpath dom \"Altus\"))\n\n\t; Record 2 zpath asserts\n\t(assert (path? r2f0zpath dom \"Cabot Recovery AFG\"))\n\t(assert (path? r2f1zpath dom \"301 S. Pine Street\"))\n\t(assert (path? r2f2zpath dom \"Cabot\"))\n\n\t; Record 3 zpath asserts\n\t(assert (path? r3f0zpath dom \"Wynne Tuesday Night AFG\"))\n\t(assert (path? r3f1zpath dom \"1201 South Falls Blvd\"))\n\t(assert (path? r3f2zpath dom \"Wynne\"))\n\n\t; Record 0 Field Mask Generation\n\t(generate-mask r0f0zpath r0f1zpath r0fieldmask max_zpath_depth)\n\t(generate-mask r0f1zpath r0f2zpath r0fieldmask max_zpath_depth)\n\n\t; Record 1 Field Mask Generation\n\t(generate-mask r1f0zpath r1f1zpath r1fieldmask max_zpath_depth)\n\t(generate-mask r1f1zpath r1f2zpath r1fieldmask max_zpath_depth)\n\n\t; Record 2 Field Mask Generation\n\t(generate-mask r2f0zpath r2f1zpath r2fieldmask max_zpath_depth)\n\t(generate-mask r2f1zpath r2f2zpath r2fieldmask max_zpath_depth)\n\n\t; Record 3 Field Mask Generation\n\t(generate-mask r3f0zpath r3f1zpath r3fieldmask max_zpath_depth)\n\t(generate-mask r3f1zpath r3f2zpath r3fieldmask max_zpath_depth)\n\n\n\t; Record Mask\n\t(generate-mask r0f0zpath r1f0zpath recordmask max_zpath_depth))\n\n; Solve\n(define (scrape)\n\t(define sol (solve (demonstration)))\n\n\t; Record 0 zpaths\n\t; Record 1 zpaths\n\t; Record 2 zpaths\n\t; Record 3 zpaths\n\n\t; Construct final zpaths\n\t(define r0f0zpath_list (map label (evaluate r0f0zpath sol)))\n\t(define generalized_r0f0zpath_list \n\t\t(apply-mask r0f0zpath_list (evaluate recordmask sol)))\n\t(define field0_zpath (synthsis_solution->zpath generalized_r0f0zpath_list))\n\n\t(define r0f1zpath_list (map label (evaluate r0f1zpath sol)))\n\t(define generalized_r0f1zpath_list \n\t\t(apply-mask r0f1zpath_list (evaluate recordmask sol)))\n\t(define field1_zpath (synthsis_solution->zpath generalized_r0f1zpath_list))\n\n\t(define r0f2zpath_list (map label (evaluate r0f2zpath sol)))\n\t(define generalized_r0f2zpath_list \n\t\t(apply-mask r0f2zpath_list (evaluate recordmask sol)))\n\t(define field2_zpath (synthsis_solution->zpath generalized_r0f2zpath_list))\n\n\t(zip \n\t\t(DOM-Flatten (DOM-XPath dom field0_zpath))\n\t\t(DOM-Flatten (DOM-XPath dom field1_zpath))\n\t\t(DOM-Flatten (DOM-XPath dom field2_zpath))\n\t))\n\n(scrape)"}]}
{"messages":[{"role":"system","content":"You are the Rosette Maintainer AI, an expert in Rosette DSLs and solver-aided verification/synthesis."},{"role":"user","content":"I only need the movie titles from the IMDB 250 page. Provide a WebSynth Rosette benchmark that learns a single zpath from two example titles and generalizes across records."},{"role":"assistant","content":"<think>This is a single-field WebSynth benchmark: define symbolic zpaths for two records, constrain them with path? over example titles, and generate a cross-record mask to generalize the path. The solve result is evaluated, masked, and converted to a zpath; then DOM-XPath and DOM-Flatten are used to extract all titles. Only one field is zipped.</think>\n\n#lang rosette\n\n(require (only-in racket/runtime-path define-runtime-path))\n(require \"../dom.rkt\")\n(require \"../websynth.rkt\")\n(require \"../websynthlib.rkt\")\n\n(define-runtime-path html (build-path \"..\" \"html/imdb250.html\"))\n(define dom (read-DOMNode html))\n(define-tags (tags dom))\n(define max_zpath_depth (depth dom))\n\n; Record 0 fields\n(define-symbolic r0f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r0fieldmask boolean? #:length max_zpath_depth)\n; Record 1 fields\n(define-symbolic r1f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r1fieldmask boolean? #:length max_zpath_depth)\n\n; Cross-record Mask\n(define-symbolic recordmask boolean? #:length max_zpath_depth)\n(current-bitwidth #f)\n\n(define (demonstration)\n\n\t; Record 0 zpath asserts\n\t(assert (path? r0f0zpath dom \"The Shawshank Redemption\"))\n\n\t; Record 1 zpath asserts\n\t(assert (path? r1f0zpath dom \"Fight Club\"))\n\n\t; Record Mask\n\t(generate-mask r0f0zpath r1f0zpath recordmask max_zpath_depth))\n\n; Solve\n(define (scrape)\n\t(define sol (solve (demonstration)))\n\n\t; Record 0 zpaths\n\t; Record 1 zpaths\n\n\t; Construct final zpaths\n\t(define r0f0zpath_list (map label (evaluate r0f0zpath sol)))\n\t(define generalized_r0f0zpath_list \n\t\t(apply-mask r0f0zpath_list (evaluate recordmask sol)))\n\t(define field0_zpath (synthsis_solution->zpath generalized_r0f0zpath_list))\n\n\t(zip \n\t\t(DOM-Flatten (DOM-XPath dom field0_zpath))\n\t))\n\n(scrape)"}]}
{"messages":[{"role":"system","content":"You are the Rosette Maintainer AI, an expert in Rosette DSLs and solver-aided verification/synthesis."},{"role":"user","content":"Can you give me a WebSynth benchmark that generalizes the IMDB 250 movie title path from eight example records so I can scrape all titles?"},{"role":"assistant","content":"<think>We need a single-field benchmark with eight record examples. Each record has a symbolic zpath constrained by path? to a concrete title. A cross-record mask derived from record 0 and record 1 generalizes the path across records. The solve result is evaluated, masked, transformed via synthsis_solution->zpath, and used in DOM-XPath/DOM-Flatten to extract all titles.</think>\n\n#lang rosette\n\n(require (only-in racket/runtime-path define-runtime-path))\n(require \"../dom.rkt\")\n(require \"../websynth.rkt\")\n(require \"../websynthlib.rkt\")\n\n(define-runtime-path html (build-path \"..\" \"html/imdb250.html\"))\n(define dom (read-DOMNode html))\n(define-tags (tags dom))\n(define max_zpath_depth (depth dom))\n\n; Record 0 fields\n(define-symbolic r0f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r0fieldmask boolean? #:length max_zpath_depth)\n; Record 1 fields\n(define-symbolic r1f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r1fieldmask boolean? #:length max_zpath_depth)\n; Record 2 fields\n(define-symbolic r2f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r2fieldmask boolean? #:length max_zpath_depth)\n; Record 3 fields\n(define-symbolic r3f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r3fieldmask boolean? #:length max_zpath_depth)\n; Record 4 fields\n(define-symbolic r4f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r4fieldmask boolean? #:length max_zpath_depth)\n; Record 5 fields\n(define-symbolic r5f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r5fieldmask boolean? #:length max_zpath_depth)\n; Record 6 fields\n(define-symbolic r6f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r6fieldmask boolean? #:length max_zpath_depth)\n; Record 7 fields\n(define-symbolic r7f0zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r7fieldmask boolean? #:length max_zpath_depth)\n\n; Cross-record Mask\n(define-symbolic recordmask boolean? #:length max_zpath_depth)\n(current-bitwidth #f)\n\n(define (demonstration)\n\n\t; Record 0 zpath asserts\n\t(assert (path? r0f0zpath dom \"The Shawshank Redemption\"))\n\n\t; Record 1 zpath asserts\n\t(assert (path? r1f0zpath dom \"Fight Club\"))\n\n\t; Record 2 zpath asserts\n\t(assert (path? r2f0zpath dom \"The Big Sleep\"))\n\n\t; Record 3 zpath asserts\n\t(assert (path? r3f0zpath dom \"In the Mood for Love\"))\n\n\t; Record 4 zpath asserts\n\t(assert (path? r4f0zpath dom \"The Celebration\"))\n\n\t; Record 5 zpath asserts\n\t(assert (path? r5f0zpath dom \"The Untouchables\"))\n\n\t; Record 6 zpath asserts\n\t(assert (path? r6f0zpath dom \"The Bourne Ultimatum\"))\n\n\t; Record 7 zpath asserts\n\t(assert (path? r7f0zpath dom \"Requiem for a Dream\"))\n\n\t; Record Mask\n\t(generate-mask r0f0zpath r1f0zpath recordmask max_zpath_depth))\n\n; Solve\n(define (scrape)\n\t(define sol (solve (demonstration)))\n\n\t; Record 0 zpaths\n\t; Record 1 zpaths\n\t; Record 2 zpaths\n\t; Record 3 zpaths\n\t; Record 4 zpaths\n\t; Record 5 zpaths\n\t; Record 6 zpaths\n\t; Record 7 zpaths\n\n\t; Construct final zpaths\n\t(define r0f0zpath_list (map label (evaluate r0f0zpath sol)))\n\t(define generalized_r0f0zpath_list \n\t\t(apply-mask r0f0zpath_list (evaluate recordmask sol)))\n\t(define field0_zpath (synthsis_solution->zpath generalized_r0f0zpath_list))\n\n\t(zip \n\t\t(DOM-Flatten (DOM-XPath dom field0_zpath))\n\t))\n\n(scrape)"}]}
{"messages":[{"role":"system","content":"You are the Rosette Maintainer AI, an expert in Rosette DSLs and solver-aided verification/synthesis."},{"role":"user","content":"From the iTunes Top 100 HTML, I need to learn two fields (song title and artist) using two example records. Please generate a WebSynth benchmark that synthesizes the generalized zpaths."},{"role":"assistant","content":"<think>This benchmark must define symbolic tag zpaths for two records and two fields, constrain them with path? against concrete song/artist strings, generate per-record field masks, and a cross-record mask for generalization. The solve result is evaluated, masked, turned into zpaths, and used with DOM-XPath/DOM-Flatten to extract the two columns, zipped into rows.</think>\n\n#lang rosette\n\n(require (only-in racket/runtime-path define-runtime-path))\n(require \"../dom.rkt\")\n(require \"../websynth.rkt\")\n(require \"../websynthlib.rkt\")\n\n(define-runtime-path html (build-path \"..\" \"html/itunes_top100_v2.html\"))\n(define dom (read-DOMNode html))\n(define-tags (tags dom))\n(define max_zpath_depth (depth dom))\n\n; Record 0 fields\n(define-symbolic r0f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r0f1zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r0fieldmask boolean? #:length max_zpath_depth)\n; Record 1 fields\n(define-symbolic r1f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r1f1zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r1fieldmask boolean? #:length max_zpath_depth)\n\n; Cross-record Mask\n(define-symbolic recordmask boolean? #:length max_zpath_depth)\n(current-bitwidth #f)\n\n(define (demonstration)\n\n\t; Record 0 zpath asserts\n\t(assert (path? r0f0zpath dom \"Sail\"))\n\t(assert (path? r0f1zpath dom \"AWOLNATION\"))\n\n\t; Record 1 zpath asserts\n\t(assert (path? r1f0zpath dom \"I Won't Give Up\"))\n\t(assert (path? r1f1zpath dom \"Jason Mraz\"))\n\n\t; Record 0 Field Mask Generation\n\t(generate-mask r0f0zpath r0f1zpath r0fieldmask max_zpath_depth)\n\n\t; Record 1 Field Mask Generation\n\t(generate-mask r1f0zpath r1f1zpath r1fieldmask max_zpath_depth)\n\n\n\t; Record Mask\n\t(generate-mask r0f0zpath r1f0zpath recordmask max_zpath_depth))\n\n; Solve\n(define (scrape)\n\t(define sol (solve (demonstration)))\n\n\t; Record 0 zpaths\n\t; Record 1 zpaths\n\n\t; Construct final zpaths\n\t(define r0f0zpath_list (map label (evaluate r0f0zpath sol)))\n\t(define generalized_r0f0zpath_list \n\t\t(apply-mask r0f0zpath_list (evaluate recordmask sol)))\n\t(define field0_zpath (synthsis_solution->zpath generalized_r0f0zpath_list))\n\n\t(define r0f1zpath_list (map label (evaluate r0f1zpath sol)))\n\t(define generalized_r0f1zpath_list \n\t\t(apply-mask r0f1zpath_list (evaluate recordmask sol)))\n\t(define field1_zpath (synthsis_solution->zpath generalized_r0f1zpath_list))\n\n\t(zip \n\t\t(DOM-Flatten (DOM-XPath dom field0_zpath))\n\t\t(DOM-Flatten (DOM-XPath dom field1_zpath))\n\t))\n\n(scrape)"}]}
{"messages":[{"role":"system","content":"You are the Rosette Maintainer AI, an expert in Rosette DSLs and solver-aided verification/synthesis."},{"role":"user","content":"I need a WebSynth benchmark that learns title/artist zpaths from four iTunes Top 100 examples and extracts the full list."},{"role":"assistant","content":"<think>This benchmark defines two fields across four records, constrains each symbolic zpath using path? with example song and artist strings, and generates field masks within each record. A cross-record mask is generated to generalize the path across records. The solve result is evaluated, masked, converted with synthsis_solution->zpath, and used with DOM-XPath/DOM-Flatten in a zip over two fields.</think>\n\n#lang rosette\n\n(require (only-in racket/runtime-path define-runtime-path))\n(require \"../dom.rkt\")\n(require \"../websynth.rkt\")\n(require \"../websynthlib.rkt\")\n\n(define-runtime-path html (build-path \"..\" \"html/itunes_top100_v2.html\"))\n(define dom (read-DOMNode html))\n(define-tags (tags dom))\n(define max_zpath_depth (depth dom))\n\n; Record 0 fields\n(define-symbolic r0f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r0f1zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r0fieldmask boolean? #:length max_zpath_depth)\n; Record 1 fields\n(define-symbolic r1f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r1f1zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r1fieldmask boolean? #:length max_zpath_depth)\n; Record 2 fields\n(define-symbolic r2f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r2f1zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r2fieldmask boolean? #:length max_zpath_depth)\n; Record 3 fields\n(define-symbolic r3f0zpath tag? #:length max_zpath_depth)\n(define-symbolic r3f1zpath tag? #:length max_zpath_depth)\n\n(define-symbolic r3fieldmask boolean? #:length max_zpath_depth)\n\n; Cross-record Mask\n(define-symbolic recordmask boolean? #:length max_zpath_depth)\n(current-bitwidth #f)\n\n(define (demonstration)\n\n\t; Record 0 zpath asserts\n\t(assert (path? r0f0zpath dom \"Sail\"))\n\t(assert (path? r0f1zpath dom \"AWOLNATION\"))\n\n\t; Record 1 zpath asserts\n\t(assert (path? r1f0zpath dom \"I Won't Give Up\"))\n\t(assert (path? r1f1zpath dom \"Jason Mraz\"))\n\n\t; Record 2 zpath asserts\n\t(assert (path? r2f0zpath dom \"Diamonds\"))\n\t(assert (path? r2f1zpath dom \"Rihanna\"))\n\n\t; Record 3 zpath asserts\n\t(assert (path? r3f0zpath dom \"What Christmas Means to Me\"))\n\t(assert (path? r3f1zpath dom \"Cee Lo Green\"))\n\n\t; Record 0 Field Mask Generation\n\t(generate-mask r0f0zpath r0f1zpath r0fieldmask max_zpath_depth)\n\n\t; Record 1 Field Mask Generation\n\t(generate-mask r1f0zpath r1f1zpath r1fieldmask max_zpath_depth)\n\n\t; Record 2 Field Mask Generation\n\t(generate-mask r2f0zpath r2f1zpath r2fieldmask max_zpath_depth)\n\n\t; Record 3 Field Mask Generation\n\t(generate-mask r3f0zpath r3f1zpath r3fieldmask max_zpath_depth)\n\n\n\t; Record Mask\n\t(generate-mask r0f0zpath r1f0zpath recordmask max_zpath_depth))\n\n; Solve\n(define (scrape)\n\t(define sol (solve (demonstration)))\n\n\t; Record 0 zpaths\n\t; Record 1 zpaths\n\t; Record 2 zpaths\n\t; Record 3 zpaths\n\n\t; Construct final zpaths\n\t(define r0f0zpath_list (map label (evaluate r0f0zpath sol)))\n\t(define generalized_r0f0zpath_list \n\t\t(apply-mask r0f0zpath_list (evaluate recordmask sol)))\n\t(define field0_zpath (synthsis_solution->zpath generalized_r0f0zpath_list))\n\n\t(define r0f1zpath_list (map label (evaluate r0f1zpath sol)))\n\t(define generalized_r0f1zpath_list \n\t\t(apply-mask r0f1zpath_list (evaluate recordmask sol)))\n\t(define field1_zpath (synthsis_solution->zpath generalized_r0f1zpath_list))\n\n\t(zip \n\t\t(DOM-Flatten (DOM-XPath dom field0_zpath))\n\t\t(DOM-Flatten (DOM-XPath dom field1_zpath))\n\t))\n\n(scrape)"}]}
