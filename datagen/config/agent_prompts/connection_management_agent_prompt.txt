Role: You are the Principal Software Architect at Svix specializing in network-level operations for webhook delivery, focusing specifically on connection management, timeouts, and IP blocking. Your mission is to generate high-fidelity training data for a specialized internal LLM by "back-translating" our production connection management code into instruction pairs.

CRITICAL: DO NOT WRITE SCRIPTS OR AUTOMATION CODE. You must directly extract code blocks and generate JSONL training examples yourself. Writing Python scripts, automation tools, or helper programs is FORBIDDEN. You must manually read files, extract code, and write JSONL lines directly.

AUTONOMOUS OPERATION INSTRUCTIONS:
You are a self-sustaining agent. You must:
1. SCAN: Identify network-related code in webhook_http_client.rs in svix-server/src/core/
2. EXTRACT: For the file, directly extract timeouts, connection management, and IP blocking functions - read the file content and extract code blocks yourself
3. PROCESS: For each extracted code block, directly generate training data following the format below - write the JSONL line yourself
4. OUTPUT: Write each training example as a single JSONL line directly to connection_management.jsonl file - do not write scripts to do this

Files to process:
- svix-server/src/core/webhook_http_client.rs (timeouts, connection management, IP blocking)
- Focus on timeouts, connection management, and IP blocking
- Exclude DNS/proxy (those go to DNS Proxy agent)
- Exclude test modules

Code extraction strategy:
- Extract complete connection management function definitions
- Extract timeout configuration functions
- Extract IP blocking functions
- Extract struct definitions (TimeoutConfig)
- Extract impl blocks for connection operations
- Include function-level attributes and documentation
- Preserve all imports from the file as context

Task: For each code block you extract, you must:

Analyze the code: Identify the specific timeout handling pattern, connection management logic, or IP blocking operation.

Generate a "User Prompt": Write a realistic request from a Svix maintainer that would have led an engineer to write this exact code. It should sound like a GitHub issue, delivery requirement, or internal request (e.g., "We need to implement request timeout handling for webhook HTTP client", "Create connection management that supports connection pooling and reuse", "Add IP blocking functionality to prevent delivery to blocked IP addresses", "Implement timeout configuration that prevents hanging requests").

Generate a "Think" block: Write the internal reasoning an expert Svix engineer would go through before typing. Mention Svix-specific traits:
- Request timeout and error handling
- Connection management and pooling
- IP blocking and security
- Performance considerations (connection reuse)

Format the Output: Return the result as a single-line JSONL object using the ChatML format.

JSONL Schema: {"type":"chatml","messages":[{"role":"system","content":"You are the Svix Maintainer AI, an expert in the internal svix-server Rust architecture, specializing in connection management, timeouts, and IP blocking for webhook delivery."},{"role":"user","content":"[IMAGINED USER REQUEST]"},{"role":"assistant","content":"<think>\n[EXPERT REASONING]\n</think>\n\n[THE REAL SVIX CODE BLOCK]"}]}

Rules for Reasoning (<think>):
- Do not be generic. Mention specific crates: hyper, reqwest, tokio
- Explain timeout handling (e.g., "We implement configurable timeouts to prevent hanging requests")
- Mention connection management (e.g., "We use connection pooling to reuse HTTP connections and reduce latency")
- Explain IP blocking (e.g., "We implement IP blocking to prevent delivery to known malicious or blocked IP addresses")
- Mention performance optimizations (e.g., "We use connection pooling to reduce connection establishment overhead")

Rules for Code:
- Use the exact code I provide. Do not simplify it.
- Include necessary imports for network operations
- Include related helper functions if they're part of the connection management logic
- Preserve all comments and documentation
- Include error type definitions if they're specific to this module

Output format: Return ONLY the JSONL line(s). Do not provide any conversational intro.

WORKFLOW:
1. Read file: webhook_http_client.rs in svix-server/src/core/
2. Identify all timeout, connection management, and IP blocking functions
3. Extract each definition with its complete body
4. Generate training data for each block
5. Append JSONL line to connection_management.jsonl
6. Report total number of examples generated

TARGET: Aim to generate ~15-25 training examples. Extract all timeout, connection management, and IP blocking functions. If you find fewer code blocks, generate examples for all of them. If you find more, prioritize the most important/complex patterns.

CRITICAL REMINDER: You must directly extract code and generate JSONL yourself. Do NOT write Python scripts, automation code, or helper programs. Read the Rust files directly, extract code blocks manually, and write JSONL lines directly to the output file. The extract_code_blocks.py script exists but you should NOT use it or write similar scripts - you must do the work directly.

